# 07-homework

> 作业：lesson 21～27
>
> 阮一峰与连岳的异同？文章的深度和对应的价值

------

## 阮一峰与连岳的异同？文章的深度和对应的价值

阮一峰是技术文章，连岳是社科类文章，在听课的时候，徐帅提到阮一峰的文章的回读率很高，有的技术文档会读很多遍，而且每次读的时候都会有不同的感受。同样的连岳的文章也有一样的感觉，就我而言。

细想一下，两者的相同点有一下几个：

> 第一点：有深度的文章，目标人群明确。

阮一峰是面向技术，对前端的技术有大量的积累和实践，对应的文章也有深度和理解，这也是技术的一个特性，面对需要解决的问题去找对应的回复，一篇技术文档可能包含了不同的应用和知识点，可以很好的回答好几个问题，这就让事情。连岳的文章面对的是具体的生活的问题，很多文章是面对具体的问题展开的，对应的回复有严谨的逻辑，使得读者之后遇到类似的问题之后也能有自己的“原则”和“方法”来处理问题。

> 第二点：直面问题

一个是技术问题，一个是生活问题，总能让你迷茫的大脑得到一个清晰的回答。

------

## Note-Guildline-21

Good-API 这一节主要是通过修改api，使得api的设计符合RESTful的原则，不要带动词到对应的路由中。

其次是api就是对应的接口的功能，通过标准的HTTP请求来完成对应的不同操作，所以在路由中不仅需要注意对应的路径，还需要注意对应的**操作（GET、POST、PUT、PATCH、DELETE）**。

## Note-Guildline-22

更好的结果是：**让每一步都可控**。

将response和data分开，看着是个小事情，但是这样只需要对不同的部分进行检查就能很好的将不同部分的问题分开处理。

#### 容错性

> ## 总结
>
> 1. 尽量通过统一的错误处理逻辑。
> 2. 尽量使用状态码，而不是自己设计一个错误值。例如：success：false/true。
> 3. 客户端页面要对错误进行错误处理以保证健壮性。

## Note-Guildline-22

1. 开发一个 WebAPP 为什么需要 Express？Express能带给你什么好处？

   *Express提供了很大的便利，有对应的模版和框架，是的对应的web开发更加便利，其次就是自身带有很多功能，处理路由的能力，使得写代码的过程中更加便利。*

2. WebAPP 中的 package.json 在整个工程起到了什么作用？

   *安装和使用说明，是整个项目的核心部分，调用资源的清单。`package.json`像是DNA，大脑是运行时。*

3. 在 Express 中 Router 的价值，为什么 Router 作为一个中间件会将其格外的突出？

   *因为对应的数据需要通过路由来得到处理（HTTP请求），对应的页面也需要路由来分发，所以其实WebAPP就是对页面的构建和分发，其中的关键也是如此。Router被express作为一个关键的中间件存在也是起重要性的体现。*

4. 为什么要对 Router 进行分类管理，分成 route.api.js 和 route.page.js 的好处是什么？

   *分类管理其实是将不同的功能和页面区分开来。两个路由其实就能把大部分的需求满足，好处是将页面和数据独立，这样在对应的生成页面和数据的交互就不会冲突。*

5. 在整个数据流中，为什么要传递req、res 和 next 这三个对象？

   *req——请求，res——响应，next——继续。*

   *req就是对应的输入的请求，传递请求才能有对应的处理，也就是对应的res，在不同的处理情况下，JS的允许是脚步式的一步一步往下走，所以需要next，next像是一个润滑剂。让代码能够一行一行运行下去。*

6. app.js中的两个错误处理函数的（错误中枢）的工作原理，统一错误的价值是什么？

   *统一错误的价值在于“规范”，只要在别人能读懂的情况下，才能知道错误的原因，其实RESTful中就有对应的错误码规范，大部分的错误都会包含在其中。如果个性化“错误”，可能只有自己看懂，对应的价值不大，其次“浏览器”也需要读懂。*

   *两个错误处理是不同的，第一个是对于的err的处理函数，第二个是对于的兜底函数，也就是最后的关卡。如果没有这个兜底函数，框架也会棒我们兜底的。*

7. 视图引擎是必须的吗？Express和 ejs的关系是什么？使用 ejs 是必须的吗？

   *ejs不是必须的，express还可以用其他的模版引擎来实现，ejs就是express的架构中使用的一个模版而已，就像有的人用钢笔写字，有的人用铅笔。视图引擎也不是必须的，单纯提供API的APP就不需要对于的视图引擎。*

8. 在构建视图时，res.render 是如何定位到页面文件的？可以改变定位的路径吗？如果不用res.render() 该怎么构建页面？

   ```js
   // routes/index.js
   var ejs = require('ejs');
   var path = require('path');
   var fs = require('fs');
   
   router.get('/', function() {
       // 手动读入模板文件
       var content = fs.readFileSync(path(__dirname, '../views/index.ejs'));
   
       var pathString = path.join(__dirname, '../views/index.ejs');
       // 手动渲染引擎
       var html = new EJS({url: pathString}).render({title: 'Hello World'});
       res.send(html);
   });
   ```

   等价于：

   ```js
   res.render('index', {title: 'hello world'});
   ```

9. ejs 中 <%- %> 和 <%= %> 的差异是什么？

   **————**

10. mongodb中的 schema 是什么意思？

    *表单，对应的其实就是一个数据表，里面记录对应的数据。不一定是二维表，也可以是多个维度的。*

------

## Note-Guildline-25

添加用户的时候出现的问题比较多，主要是自己打代码的时候**“多字，少字、大小写错误……”**

这里需要警惕的还有一个是对于的关系。

调用一个中间件来验证用户的真假，关键的信息来自浏览器的cookie的验证。再次出现的重要对象是“req和res”。

bug中有一个与vue相关的，vue是通过操作app这个对象来实习的，但是之前代码中吧`layout.ejs`中的appID给改了……



## Note-Guildline-26

无主的post需要删除才能正常的show